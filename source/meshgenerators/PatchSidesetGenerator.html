<!DOCTYPE html><head><meta charset="UTF-8"><title>PatchSidesetGenerator | RACCOON</title><link rel="icon" type="image/x-icon" href="../../media/raccoon_icon.png" sizes="16x16 32x32 64x64 128x128"></link><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../contrib/katex/katex.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/katex_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script><script type="text/javascript" src="../../contrib/katex/katex.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://hugary1995.github.io/raccoon/index.html" class="left moose-logo hide-on-med-and-down">RACCOON</a><a href="https://github.com/hugary1995/raccoon" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"><li><a href="../../install/index.html">Install</a></li><li><a href="../../theory/index.html">Theory</a></li><li><a href="../../modules/index.html">Modules</a></li><li><a href="../../syntax/index.html">Syntax</a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#" class="sidenav-trigger" data-target="9d9de8b9-7e94-4797-bd97-8e9536c22253"><i class="material-icons">menu</i></a><ul class="sidenav" id="9d9de8b9-7e94-4797-bd97-8e9536c22253"><li><a href="../../install/index.html">Install</a></li><li><a href="../../theory/index.html">Theory</a></li><li><a href="../../modules/index.html">Modules</a></li><li><a href="../../syntax/index.html">Syntax</a></li><li><a href="../../contribute/index.html">Contribute</a></li></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="https://hugary1995.github.io/raccoon/index.html" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">meshgenerators</span><a href="#" class="breadcrumb">PatchSidesetGenerator</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="d5f7cb14-f04f-45b9-a707-9ae365a1173e" data-section-level="1" data-section-text="PatchSidesetGenerator"><h1 id="patchsidesetgenerator">PatchSidesetGenerator</h1><section class="scrollspy" id="aa90d233-dd2a-4ae9-9b58-d9892ae3ed1d" data-section-level="2" data-section-text="Description"><h2 id="description">Description</h2><p>This mesh generator splits a given sideset (<code>sideset</code> parameter) into <code>n</code> pieces (<code>n_patches</code>). The pieces are referred to as patches. Patches are used for net radiation transfer method via view factors. The sideset is divided into <code>n</code> patches using partitioner that are available from libmesh. The new sidesets are named <code>&lt;old_side_name&gt;_&lt;id&gt;</code>, where <code>&lt;id&gt;</code> is a number running from <code>0</code> to <code>n - 1</code>.</p><p>In addition to libmesh partitioners, this mesh generator also supports a grid partitioner. The grid partitioner superimposes a 3-dimensional (where <span class="moose-katex-inline-equation" id="moose-equation-4ed42195-5d8f-4d5a-ae12-ac43347a1d6f"><script>var element = document.getElementById("moose-equation-4ed42195-5d8f-4d5a-ae12-ac43347a1d6f");katex.render("d", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span> is the dimensionality of the problem) uniform, orthogonal grid over the sideset and partitions the elements according to where the centroids of the sideset faces fall on the orthogonal grid. The superimposed grid is congruent to the bounding box of the sideset to ensure that the sideset is completely encompassed within the superimposed grid.</p><p>The superimposed orthogonal grid is _always_ 3-dimensional because the sideset (surface in 3D and line in 2D problems) does not need to be orthogonal to any of the coordinate axes. The superimposed 3-dimensional mesh is aligned with the coordinate axis and will have a single element in 1 (2) directions for 3 (2)-dimensional problems. These are discussed in turn:</p><ul class="browser-default"><li><p>for 2-dimensional problems, sidsets are a collection of line segments so sidesets are 1-dimensional. The bounding box of the sideset is computed and the largest distance along any of the three axes is computed (i.e. <span class="moose-katex-inline-equation" id="moose-equation-2664930a-3c45-4ba7-8472-ca2244cd6f33"><script>var element = document.getElementById("moose-equation-2664930a-3c45-4ba7-8472-ca2244cd6f33");katex.render("\\max (x_{\\text{max}}-x_{\\text{min}}, y_{\\text{max}}-z_{\\text{min}},x_{\\text{max}}-z_{\\text{min}})", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span>). The superimposed mesh has <code>n_patches</code> subdivisions along the longest axis and a single subdivision along the two shorter axes. </p></li><li><p>for 3-dimensional problems, sidsets are a collection of faces so sidesets are 2-dimensional. The bounding box of the sideset is computed and the two largest distance along any of the three axes is computed (i.e. two largest from set <span class="moose-katex-inline-equation" id="moose-equation-37f55381-9bea-4421-ae30-03adf614698e"><script>var element = document.getElementById("moose-equation-37f55381-9bea-4421-ae30-03adf614698e");katex.render("\\{x_{\\text{max}}-x_{\\text{min}}, y_{\\text{max}}-z_{\\text{min}},x_{\\text{max}}-z_{\\text{min}}\\}", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span>). The superimposed mesh has a single subdivision along the axes with the smallest extent. The number of elements along the two larger dimensions are determined as follows:</p><p><span class="moose-katex-block-equation"><span class="moose-katex-equation table-cell" id="moose-equation-2ea55742-c235-4eb3-9a69-a8e3986dcdfb"></span><script>var element = document.getElementById("moose-equation-2ea55742-c235-4eb3-9a69-a8e3986dcdfb");katex.render("\\begin{aligned}   n_1 &= \\lfloor \\sqrt{\\frac{\\Delta_1}{\\Delta_2} n_p} \\rfloor \\\\   n_2 &= \\lfloor \\sqrt{\\frac{\\Delta_2}{\\Delta_1} n_p} \\rfloor, \\end{aligned}  ", element, {displayMode:true,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span></p><p>where <span class="moose-katex-inline-equation" id="moose-equation-cdb15a36-cf5a-45da-80ab-b9f828749438"><script>var element = document.getElementById("moose-equation-cdb15a36-cf5a-45da-80ab-b9f828749438");katex.render("n_1", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span> and <span class="moose-katex-inline-equation" id="moose-equation-94053d79-ed2d-4c16-8085-3d43176ff11d"><script>var element = document.getElementById("moose-equation-94053d79-ed2d-4c16-8085-3d43176ff11d");katex.render("n_2", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span> are the subdivisions along the longest and second longest axes and <span class="moose-katex-inline-equation" id="moose-equation-9b56c6c3-ac27-491e-b0b5-1bcc80672bcc"><script>var element = document.getElementById("moose-equation-9b56c6c3-ac27-491e-b0b5-1bcc80672bcc");katex.render("n_p", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span> is equal to <code>n_patches</code>. Due to the rounding, the <span class="moose-katex-inline-equation" id="moose-equation-6403ae7f-3749-4a56-b5dc-5a682326602b"><script>var element = document.getElementById("moose-equation-6403ae7f-3749-4a56-b5dc-5a682326602b");katex.render("n_1 \\cdot n_2", element, {displayMode:false,throwOnError:false,macros:{"\\bs":"\\boldsymbol{#1}","\\normal":"\\bs{n}","\\divergence":"\\nabla \\cdot","\\norm":"\\left\\lVert#1\\right\\rVert","\\diff":"\\text{ d}#1","\\total":"\\text{total}","\\internal":"\\text{internal}","\\external":"\\text{external}","\\elastic":"\\text{elastic}","\\fracture":"\\text{fracture}","\\critical":"\\text{critical}","\\activeenergy":"{\\left< A \\right>}","\\inactiveenergy":"{\\left< I \\right>}","\\Gc":"{\\mathcal{G}_c}","\\strain":"\\bs{\\varepsilon}","\\stress":"\\bs{\\sigma}","\\xstress":"\\widetilde{\\stress}","\\macaulay":"\\left<#1\\right>","\\body":"\\Omega","\\bodyboundary":"{\\partial\\body}","\\grad":"\\bs{\\nabla}"}});</script></span> does not need to be equal to <code>n_patches</code> so the number of patches might be adjusted. A warning is printed if that happens.</p></li></ul></section><section class="scrollspy" id="1adc5208-cf09-42fd-bb2d-45523b82c29d" data-section-level="2" data-section-text="Example Input Syntax"><h2 id="example-input-syntax">Example Input Syntax</h2><pre class="moose-pre" style="max-height:350px;"><code class="language-text">  [patch]
    type = PatchSidesetGenerator
    boundary = 0
    n_patches = 10
    input = cmg
  []
</code></pre><a class="moose-source-filename tooltipped modal-trigger" href="#97083a90-feb7-4506-9368-faa588032842">(moose/modules/heat_conduction/test/tests/generate_radiation_patch/generate_radiation_patch.i)</a></section><section class="scrollspy" id="61235cb2-0fc6-4dcb-b0e8-b494b256507c" data-section-level="2" data-section-text="Input Parameters"><h2 id="input-parameters">Input Parameters</h2><section id="b28ad324-69f9-448d-8d71-780957aa6209" data-section-level="3" data-section-text="Required Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">boundary</span><span class="moose-parameter-header-description">The boundary that will be divided into patches</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>BoundaryName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The boundary that will be divided into patches</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">input</span><span class="moose-parameter-header-description">The mesh we want to modify</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MeshGeneratorName</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>The mesh we want to modify</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">n_patches</span><span class="moose-parameter-header-description">Number of patches</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>unsigned int</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Number of patches</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Required Parameters</h3></summary></details></section><section id="5a89a05c-555d-4257-b07d-3d73973e92f7" data-section-level="3" data-section-text="Optional Parameters" data-details-open="open"><details class="moose-section-content" open="open"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">show_info</span><span class="moose-parameter-header-default">False</span><span class="moose-parameter-header-description">Whether or not to show mesh info after generating the mesh (bounding box, element types, sidesets, nodesets, subdomains, etc)</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>False</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Whether or not to show mesh info after generating the mesh (bounding box, element types, sidesets, nodesets, subdomains, etc)</p></div></li></ul><summary><h3 data-details-open="open"><span class="moose-section-icon"></span>Optional Parameters</h3></summary></details></section><section id="2273ccec-fd82-4c01-bfcd-cee098cfece9" data-section-level="3" data-section-text="Partitioning Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">centroid_partitioner_direction</span><span class="moose-parameter-header-description">Specifies the sort direction if using the centroid partitioner. Available options: x, y, z, radial</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>x, y, z, radial</p><p class="moose-parameter-description"><span>Description:</span>Specifies the sort direction if using the centroid partitioner. Available options: x, y, z, radial</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">partitioner</span><span class="moose-parameter-header-default">default</span><span class="moose-parameter-header-description">Specifies a mesh partitioner to use when splitting the mesh for a parallel computation.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>default</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>MooseEnum</p><p class="moose-parameter-description-options"><span>Options:</span>default, metis, parmetis, linear, centroid, hilbert_sfc, morton_sfc, grid</p><p class="moose-parameter-description"><span>Description:</span>Specifies a mesh partitioner to use when splitting the mesh for a parallel computation.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Partitioning Parameters</h3></summary></details></section><section id="46298826-fc70-4eaa-82d1-85630d9b8b32" data-section-level="3" data-section-text="Advanced Parameters" data-details-open="close"><details class="moose-section-content"><ul class="collapsible" data-collapsible="expandable"><li><div class="collapsible-header"><span class="moose-parameter-name">control_tags</span><span class="moose-parameter-header-description">Adds user-defined labels for accessing object parameters via control logic.</span></div><div class="collapsible-body"><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>std::vector&lt;std::string&gt;</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Adds user-defined labels for accessing object parameters via control logic.</p></div></li><li><div class="collapsible-header"><span class="moose-parameter-name">enable</span><span class="moose-parameter-header-default">True</span><span class="moose-parameter-header-description">Set the enabled status of the MooseObject.</span></div><div class="collapsible-body"><p class="moose-parameter-description-default"><span>Default:</span>True</p><p class="moose-parameter-description-cpptype"><span>C++ Type:</span>bool</p><p class="moose-parameter-description-options"><span>Options:</span></p><p class="moose-parameter-description"><span>Description:</span>Set the enabled status of the MooseObject.</p></div></li></ul><summary><h3 data-details-open="close"><span class="moose-section-icon"></span>Advanced Parameters</h3></summary></details></section></section></section><div class="moose-modal modal" id="97083a90-feb7-4506-9368-faa588032842"><div class="modal-content"><h4>(moose/modules/heat_conduction/test/tests/generate_radiation_patch/generate_radiation_patch.i)</h4><pre class="moose-pre"><code class="language-text">[Mesh]
  type = MeshGeneratorMesh

  [cmg]
    type = GeneratedMeshGenerator
    dim = 3
    xmin = 0
    xmax = 1
    nx = 25
    ymin = 0
    ymax = 1
    ny = 25
    zmin = 0
    zmax = 1
    nz = 25
  []

  [patch]
    type = PatchSidesetGenerator
    boundary = 0
    n_patches = 10
    input = cmg
  []
[]
</code></pre></div><div class="modal-footer"><a class="modal-close btn-flat">Close</a></div></div></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#aa90d233-dd2a-4ae9-9b58-d9892ae3ed1d" class="tooltipped" data-position="left" data-tooltip="Description">Description</a></li><li><a href="#1adc5208-cf09-42fd-bb2d-45523b82c29d" class="tooltipped" data-position="left" data-tooltip="Example Input Syntax">Example Input Syntax</a></li><li><a href="#61235cb2-0fc6-4dcb-b0e8-b494b256507c" class="tooltipped" data-position="left" data-tooltip="Input Parameters">Input Parameters</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>